<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout.html :: head}"></head>
<body>
<header th:replace="~{fragments/layout.html :: header}"></header>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
<article>
    <div id="centrovac" class="container px-4 px-lg-5">
        <section>
            <header>
                <br>
                <div class="container py-5" style="border-radius: 15px; background-image: url('/images/editclient.jpg');
              background-size: cover; background-position: center; padding: 2cm; position: relative;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h1 class="font-weight-light text-center" style="background-color: rgba(255, 255, 255, 0.8);
            padding: 10px; border-radius: 5px; display: inline-block;">Změna údajů</h1><br>
                            <p class="lead text-center mb-5" style="background-color: rgba(255, 255, 255, 0.8); padding: 10px; border-radius: 3px;
            display: inline-block;">Opravte údaje v následujícím formuláři.</p><br>
                            <p class="lead text-center mb-5" style="background-color: rgba(255, 255, 255, 0.8); padding: 10px; border-radius: 3px;
            display: inline-block;">Máte otázky? Jsme tu pro vás! <a class="btn btn-primary" href="/contacts">Kontakt</a></p>
                        </div>
                    </div>
                </div>
                <br>
            </header>
            <!-- Stavové zprávy -->
            <div class="flash-message message-success" th:text="${success}" th:if="${success}"></div>
            <div class="flash-message message-error" th:text="${error}" th:if="${error}"></div>
            <br>

            <!-- Formulář -->
            <h4 class="mb-3">Základní údaje:</h4>
            <div class="mb-3">
                <form class="d-flex flex-column gap-2"
                      method="post"
                      th:action="@{'/clients/edit/' + ${clientDTO.clientId}}"
                      th:object="${clientDTO}">

                    <!-- Skryté pole pro klientské ID -->
                    <input type="hidden" th:field="*{clientId}" />

                    <div class="mb-3">
                        <label for="forename">Křestní jméno:</label>
                        <input id="forename" th:field="*{forename}" class="form-control"/>
                        <small class="text-danger" th:errors="*{forename}"></small>
                    </div>
                    <div class="mb-3">
                        <label for="lastName">Příjmení:</label>
                        <input id="lastName" th:field="*{lastName}" class="form-control"/>
                        <small class="text-danger" th:errors="*{lastName}"></small>
                    </div>
                    <div class="mb-3">
                        <label for="nationalID">Rodné číslo:</label>
                        <input id="nationalID" th:field="*{nationalID}" class="form-control"/>
                        <small class="text-danger" th:errors="*{nationalID}"></small>
                    </div>
                    <h4 class="mb-3">Adresa:</h4>
                    <div class="mb-3">
                        <label for="street">Ulice:</label>
                        <input id="street" th:field="*{street}" class="form-control"/>
                        <small class="text-danger" th:if="${#fields.hasErrors('street')}" th:errors="*{street}"></small>
                    </div>
                    <div class="mb-3">
                        <label for="houseNumber">Číslo popisné/orientační:</label>
                        <input id="houseNumber" th:field="*{houseNumber}" class="form-control"/>
                        <small class="text-danger" th:if="${#fields.hasErrors('houseNumber')}" th:errors="*{houseNumber}"></small>
                    </div>
                    <div class="mb-3">
                        <label for="city">Mesto/Obec:</label>
                        <input id="city" th:field="*{city}" class="form-control"/>
                        <small class="text-danger" th:if="${#fields.hasErrors('city')}" th:errors="*{city}"></small>
                    </div>
                    <div class="mb-3">
                        <label for="zip">PSČ:</label>
                        <input id="zip" th:field="*{zip}" class="form-control"/>
                        <small class="text-danger" th:if="${#fields.hasErrors('zip')}" th:errors="*{zip}"></small>
                    </div>
                    <h4 class="mb-3">Kontakty:</h4>
                    <div class="mb-3">
                        <label for="email">Email:</label>
                        <input id="email" th:field="*{email}" class="form-control" readonly/>
                        <small class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></small>
                    </div>
                    <div class="mb-3">
                        <label for="phone">Telefon:</label>
                        <input id="phone" th:field="*{phone}" class="form-control"/>
                        <small class="text-danger" th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></small>
                    </div>

                    <div class="image-container d-flex flex-column align-items-start">
                        <button type="submit" class="btn btn-primary mb-2">Uložit</button>
                        <a class="btn btn-secondary" th:href="@{/clients/profile}">Zpět na profil</a>
                    </div>
                </form>
            </div>
        </section>
    </div>
</article>
</body>
</html>
